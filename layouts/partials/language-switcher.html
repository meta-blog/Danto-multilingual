{{ $siteLanguages := .Site.Languages }}
{{ $pageLang := .Page.Lang }}

<div class="lang-switcher">
  <div class="lang-switcher__dropdown">
    <button class="lang-switcher__dropbtn">
      {{ if eq .Site.Language.Lang "en-us" }}🇺🇸
      {{ else if eq .Site.Language.Lang "en-ca" }}🇨🇦
      {{ else if eq .Site.Language.Lang "en-gb" }}🇬🇧
      {{ else if eq .Site.Language.Lang "en-au" }}🇦🇺
      {{ else if eq .Site.Language.Lang "en-in" }}🇮🇳
      {{ else if eq .Site.Language.Lang "en-sg" }}🇸🇬
      {{ else if eq .Site.Language.Lang "es-es" }}🇪🇸
      {{ else if eq .Site.Language.Lang "es-mx" }}🇲🇽
      {{ else if eq .Site.Language.Lang "es-co" }}🇨🇴
      {{ else if eq .Site.Language.Lang "es-ar" }}🇦🇷
      {{ else if eq .Site.Language.Lang "es-pe" }}🇵🇪
      {{ else if eq .Site.Language.Lang "pt-pt" }}🇵🇹
      {{ else if eq .Site.Language.Lang "pt-br" }}🇧🇷
      {{ else if eq .Site.Language.Lang "fr" }}🇫🇷
      {{ else if eq .Site.Language.Lang "it" }}🇮🇹
      {{ else if eq .Site.Language.Lang "de" }}🇩🇪
      {{ else if eq .Site.Language.Lang "zh-cn" }}🇨🇳
      {{ else if eq .Site.Language.Lang "zh-tw" }}🇹🇼
      {{ else if eq .Site.Language.Lang "ja" }}🇯🇵
      {{ else if eq .Site.Language.Lang "ko" }}🇰🇷
      {{ else if eq .Site.Language.Lang "id" }}🇮🇩
      {{ else if eq .Site.Language.Lang "vi" }}🇻🇳
      {{ else if eq .Site.Language.Lang "th" }}🇹🇭
      {{ else if eq .Site.Language.Lang "tr" }}🇹🇷
      {{ else if eq .Site.Language.Lang "ar" }}🇸🇦
      {{ else if eq .Site.Language.Lang "fa" }}🇮🇷
      {{ else if eq .Site.Language.Lang "hi" }}🇮🇳
      {{ else }}{{ .Site.Language.LanguageName }}
      {{ end }}
      ▾
    </button>
    <div class="lang-switcher__dropdown-content">
      {{ range .Site.Home.AllTranslations }}
        {{ if ne .Language.Lang $pageLang }}
          <a href="{{ .Permalink }}" class="lang-switcher__link" lang="{{ .Language.Lang }}">
            {{ if eq .Language.Lang "en-us" }}🇺🇸 US
            {{ else if eq .Language.Lang "en-ca" }}🇨🇦 Canada
            {{ else if eq .Language.Lang "en-gb" }}🇬🇧 UK
            {{ else if eq .Language.Lang "en-au" }}🇦🇺 Australia
            {{ else if eq .Language.Lang "en-in" }}🇮🇳 India
            {{ else if eq .Language.Lang "en-sg" }}🇸🇬 Singapore
            {{ else if eq .Language.Lang "es-es" }}🇪🇸 España
            {{ else if eq .Language.Lang "es-mx" }}🇲🇽 México
            {{ else if eq .Language.Lang "es-co" }}🇨🇴 Colombia
            {{ else if eq .Language.Lang "es-ar" }}🇦🇷 Argentina
            {{ else if eq .Language.Lang "es-pe" }}🇵🇪 Perú
            {{ else if eq .Language.Lang "pt-pt" }}🇵🇹 Portugal
            {{ else if eq .Language.Lang "pt-br" }}🇧🇷 Brasil
            {{ else if eq .Language.Lang "fr" }}🇫🇷 Français
            {{ else if eq .Language.Lang "it" }}🇮🇹 Italiano
            {{ else if eq .Language.Lang "de" }}🇩🇪 Deutsch
            {{ else if eq .Language.Lang "zh-cn" }}🇨🇳 中国
            {{ else if eq .Language.Lang "zh-tw" }}🇹🇼 台灣
            {{ else if eq .Language.Lang "ja" }}🇯🇵 日本
            {{ else if eq .Language.Lang "ko" }}🇰🇷 대한민국
            {{ else if eq .Language.Lang "id" }}🇮🇩 Indonesia
            {{ else if eq .Language.Lang "vi" }}🇻🇳 Việt Nam
            {{ else if eq .Language.Lang "th" }}🇹🇭 ประเทศไทย
            {{ else if eq .Language.Lang "tr" }}🇹🇷 Türkiye
            {{ else if eq .Language.Lang "ar" }}🇸🇦 السعودية 
            {{ else if eq .Language.Lang "fa" }}🇮🇷 ایران 
            {{ else if eq .Language.Lang "hi" }}🇮🇳 भारत 
            {{ else }}{{ .Language.LanguageName }}
            {{ end }}
          </a>
        {{ end }}
      {{ end }}
    </div>
  </div>
</div>